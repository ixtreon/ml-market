

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Market Structure &mdash; ML-Market 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ML-Market 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Market Core" href="index.html"/>
        <link rel="next" title="Market Maker Modules" href="makers.html"/>
        <link rel="prev" title="Market Core" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> ML-Market</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Market Core</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Market Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="makers.html">Market Maker Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">Unit Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../makers/index.html">Market Makers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../makers/order_book.html">Order Book</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/msr.html">Log Market Scoring Rule</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ML-Market</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Market Core</a> &raquo;</li>
      
    <li>Market Structure</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/market/structure.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="module-markets.models">
<span id="market-structure"></span><h1>Market Structure<a class="headerlink" href="#module-markets.models" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="markets.models.Account">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Account</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Account"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Account" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a user&#8217;s bank account for a given market. 
Normal users are allowed only a primary account 
while admin users can create multiple secondary accounts.</p>
<dl class="method">
<dt id="markets.models.Account.place_order">
<code class="descname">place_order</code><span class="sig-paren">(</span><em>market</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Account.place_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Account.place_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to place an order from this account on the given market with the given positions. 
Each position is a tuple of an outcome, and the amount to wager on that outcome.</p>
<p>Returns None if the position list is empty.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.AccountBalance">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">AccountBalance</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#AccountBalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.AccountBalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the current holdings of an account for a given outcome (variable).</p>
<p>Contains the amount of shares held by present by the account owner.</p>
<dl class="staticmethod">
<dt id="markets.models.AccountBalance.get">
<em class="property">static </em><code class="descname">get</code><span class="sig-paren">(</span><em>acc</em>, <em>outcome</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#AccountBalance.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.AccountBalance.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets or creates the supply for the given account.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.AccountBalance.reset">
<em class="property">static </em><code class="descname">reset</code><span class="sig-paren">(</span><em>ev</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#AccountBalance.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.AccountBalance.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the account balances for all players and outcomes in the given event.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.DataSet">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">DataSet</code><span class="sig-paren">(</span><em>id</em>, <em>market</em>, <em>name</em>, <em>description</em>, <em>is_training</em>, <em>is_active</em>, <em>datum_count</em>, <em>active_datum_id</em>, <em>challenge_start</em>, <em>reveal_interval</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="markets.models.DataSet.active_datum">
<code class="descname">active_datum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.active_datum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.active_datum" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the active datum. Throws an exception if it does not exist.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.challenge_duration">
<code class="descname">challenge_duration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.challenge_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.challenge_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a timedelta representation of the duration of a challenge.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.challenge_end">
<code class="descname">challenge_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.challenge_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.challenge_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the DateTime the active challenge ends at.</p>
<p>If this challenge has a negative duration, it is assumed to continue indefinitely.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.challenge_expired">
<code class="descname">challenge_expired</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.challenge_expired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.challenge_expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether this set&#8217;s current challenge has expired.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.force_advance">
<code class="descname">force_advance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.force_advance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.force_advance" title="Permalink to this definition">¶</a></dt>
<dd><p>Forces the finalisation of this dataset&#8217;s current challenge and start the new one.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.get_datum">
<code class="descname">get_datum</code><span class="sig-paren">(</span><em>set_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.get_datum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.get_datum" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the datum with the specified set_id. Throws an exception if it does not exist.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.get_outcomes">
<code class="descname">get_outcomes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.get_outcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.get_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all outcomes defined for this market.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.has_data">
<code class="descname">has_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.has_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.has_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether this dataset has any datums.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.has_datum">
<code class="descname">has_datum</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.has_datum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.has_datum" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether this DataSet contains a datum with the given id.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances this active set to the next datum (challenge) _once_, and raises the dataset_expired signal.
If there is no datum with such id, the set is made inactive. 
Returns whether the set is active.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.next_challenge_id">
<code class="descname">next_challenge_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.next_challenge_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.next_challenge_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the id of the next challenge (datum). 
Throws an exception if there is no such datum.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.next_challenge_in">
<code class="descname">next_challenge_in</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.next_challenge_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.next_challenge_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the time remaining until this challenge ends as a string.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.next_id">
<code class="descname">next_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.next_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.next_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an id for the next datum and advances self.datum_count.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.random">
<code class="descname">random</code><span class="sig-paren">(</span><em>n_data=10</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates some random datums for this dataset.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets active_datum_id to 0. If there is no datum with id of 0, an exception is thrown.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.set_challenge">
<code class="descname">set_challenge</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.set_challenge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.set_challenge" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the next challenge.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.DataSet.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#DataSet.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.DataSet.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this DataSet as the active set for its market.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.Datum">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Datum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Datum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Datum" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an observation in the prediction market.</p>
<p>Defines a result for each event that was observed in this instance, along with a description specific to the observation.</p>
<dl class="method">
<dt id="markets.models.Datum.is_valid">
<code class="descname">is_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Datum.is_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Datum.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether this datum contains results for all market events.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.Datum.random">
<em class="property">static </em><code class="descname">random</code><span class="sig-paren">(</span><em>set</em>, <em>name=''</em>, <em>description=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Datum.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Datum.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new datum with random results 
for the outcomes of this DataSet, and then saves it</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.Document">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Document</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>A document uploaded by the user to be potentially used as a dataset source.</p>
</dd></dl>

<dl class="class">
<dt id="markets.models.Event">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Event</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>A set of outcomes for a market.</p>
<dl class="method">
<dt id="markets.models.Event.activity_histogram">
<code class="descname">activity_histogram</code><span class="sig-paren">(</span><em>dt_from</em>, <em>dt_to</em>, <em>interval</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Event.activity_histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Event.activity_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the amount of trades that occured in the given time interval.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Event.normalise_outcomes">
<code class="descname">normalise_outcomes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Event.normalise_outcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Event.normalise_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes sure all outcomes sum to 1</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Event.price_histogram">
<code class="descname">price_histogram</code><span class="sig-paren">(</span><em>dt_from</em>, <em>dt_to</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Event.price_histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Event.price_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the price histogram for the event in the given time interval.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Event.random_outcome">
<code class="descname">random_outcome</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Event.random_outcome"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Event.random_outcome" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a random outcome from this set.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.Interval">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Interval</code><a class="reference internal" href="../_modules/markets/models.html#Interval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Interval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="markets.models.Market">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Market</code><span class="sig-paren">(</span><em>id</em>, <em>name</em>, <em>description</em>, <em>pub_date</em>, <em>type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="markets.models.Market.active_set">
<code class="descname">active_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.active_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.active_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the active dataset for this market, or None if the market is inactive.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.api_accounts">
<code class="descname">api_accounts</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.api_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.api_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all API accounts created by the given user for this market.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.challenge_end_ticks">
<code class="descname">challenge_end_ticks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.challenge_end_ticks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.challenge_end_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the challenge_end datetime in the form of ticks elapsed since the Epoch.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.challenge_start_ticks">
<code class="descname">challenge_start_ticks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.challenge_start_ticks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.challenge_start_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the challenge_start datetime in the form of ticks elapsed since the Epoch.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.create_primary_account">
<code class="descname">create_primary_account</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.create_primary_account"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.create_primary_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a primary account for the given user. Throws an exception if the account exists.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.is_active">
<code class="descname">is_active</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.is_active"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether this market has an active dataset.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.n_datasets">
<code class="descname">n_datasets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.n_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.n_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the total number of datasets for this market.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.n_events">
<code class="descname">n_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.n_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.n_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the total amount of events registered with this market.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.parse_bid">
<code class="descname">parse_bid</code><span class="sig-paren">(</span><em>post</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.parse_bid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.parse_bid" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the data from the given POST request. 
Returns a list of tuples containing the amount wagered on each outcome for this market.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Market.primary_account">
<code class="descname">primary_account</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Market.primary_account"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Market.primary_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the user&#8217;s primary account for this market, or None if they are not registered.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.MarketBalance">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">MarketBalance</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#MarketBalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketBalance" title="Permalink to this definition">¶</a></dt>
<dd><p>The current market supply for a given outcome.</p>
<dl class="staticmethod">
<dt id="markets.models.MarketBalance.accept_order">
<em class="property">static </em><code class="descname">accept_order</code><span class="sig-paren">(</span><em>order</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#MarketBalance.accept_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketBalance.accept_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the amounts from the given order to the market supply.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.MarketBalance.for_event">
<em class="property">static </em><code class="descname">for_event</code><span class="sig-paren">(</span><em>ev</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#MarketBalance.for_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketBalance.for_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the market maker supplies for all outcomes in the given event.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.MarketBalance.get">
<em class="property">static </em><code class="descname">get</code><span class="sig-paren">(</span><em>outcome</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#MarketBalance.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketBalance.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets or creates the supply for the given outcome.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.MarketBalance.reset">
<em class="property">static </em><code class="descname">reset</code><span class="sig-paren">(</span><em>ev</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#MarketBalance.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketBalance.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the market maker&#8217;s balance for all outcomes in the given event.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.MarketType">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">MarketType</code><a class="reference internal" href="../_modules/markets/models.html#MarketType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.MarketType" title="Permalink to this definition">¶</a></dt>
<dd><p>The different types of markets with regard to the market maker that is used.</p>
</dd></dl>

<dl class="class">
<dt id="markets.models.Order">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Order</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order" title="Permalink to this definition">¶</a></dt>
<dd><p>A pending or already processed order from a user for some market</p>
<dl class="method">
<dt id="markets.models.Order.get_position">
<code class="descname">get_position</code><span class="sig-paren">(</span><em>outcome</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.get_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.get_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets this order&#8217;s position for the specified outcome.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Order.group_by_event">
<code class="descname">group_by_event</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.group_by_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.group_by_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups all positions in this order by their event.
Returns a dictionary of the events with the list of positions on them as the value.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Order.is_processed">
<code class="descname">is_processed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.is_processed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.is_processed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether all positions in this order are processed.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.Order.new">
<em class="property">static </em><code class="descname">new</code><span class="sig-paren">(</span><em>market</em>, <em>account</em>, <em>positions</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.new" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new order for the specified market by the given account, specifying the provided positions.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="markets.models.Order.reset">
<em class="property">static </em><code class="descname">reset</code><span class="sig-paren">(</span><em>ev</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels all orders for the given event.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Order.set_processed">
<code class="descname">set_processed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.set_processed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.set_processed" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks all positions in this order as processed.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Order.unprocessed_orders">
<code class="descname">unprocessed_orders</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Order.unprocessed_orders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Order.unprocessed_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves all unprocessed orders from the database.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.Outcome">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Outcome</code><span class="sig-paren">(</span><em>id</em>, <em>event</em>, <em>name</em>, <em>description</em>, <em>current_price</em>, <em>sell_offer</em>, <em>buy_offer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Outcome"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Outcome" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="markets.models.Position">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Position</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Position" title="Permalink to this definition">¶</a></dt>
<dd><p>A player&#8217;s position (opinion) about a given outcome as part of an order.</p>
<dl class="method">
<dt id="markets.models.Position.partial_complete">
<code class="descname">partial_complete</code><span class="sig-paren">(</span><em>pa</em>, <em>pb</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Position.partial_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Position.partial_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to partially complete the given two positions.</p>
<p>In order to do so the positions must be of opposite type, compatible prices and on the same outcome.</p>
<p>The price at which the deal is completed is taken as the average of each player&#8217;s suggested price.</p>
<p>The amount of shares exchanged depends on the amounts defined by each position. 
In case one of the positions can be completed only partially, the amount of traded shares are subtracted from it
and the trade is completed by creating a new Order which contains the fulfilled part of the transaction.</p>
</dd></dl>

<dl class="method">
<dt id="markets.models.Position.split">
<code class="descname">split</code><span class="sig-paren">(</span><em>amount</em>, <em>price</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Position.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Position.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves a part of this position.</p>
<p>Returns the newly created order which partially completes the solution, or None if the position was fulfilled.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="markets.models.Result">
<em class="property">class </em><code class="descclassname">markets.models.</code><code class="descname">Result</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/markets/models.html#Result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#markets.models.Result" title="Permalink to this definition">¶</a></dt>
<dd><p>The actual outcome of a given event for the specified datum.</p>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="makers.html" class="btn btn-neutral float-right" title="Market Maker Modules">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Market Core"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Ix.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>